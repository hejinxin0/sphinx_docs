# FAST-LIO建图模块

地图点被组织成一个ikd-Tree，该树以里程计速率合并新的点云扫描而动态增长。为了防止地图的大小不受约束，ikid - tree中只保留LiDAR当前位置周围长为L的大型局部区域中的地图点

## 地图管理



## 树形结构

ikd-Tree是一棵二叉搜索树	



与现有只在叶子节点上存储点的的k-d树不同，ikd-Tree同时在叶节点和内部节点上存储点，以更好地支持动态点插入和树重新平衡。当使用单个k-d树时，这种存储模式也被证明在kNN搜索中更有效，这就是我们的ikd树的情况

用于分割空间的分割轴记录在 axis 中。根植于当前节点的（子）树的**树节点数（包括有效和无效节点）**保留在属性 treesize 中。当点从地图中删除时，节点不会立即从树中删除，而只是将**布尔变量 deleted 设置为 true**。 如果删除了以当前节点为根的整个（子）树，则**将 treedeleted 设置为 true**。 从（子）树中**删除的点的数目**汇总于属性 invalidnum 中。 属性 range 记录了（子）树上**点的范围信息**，被解释为包含所有点的受限制的轴对齐长方体。 受限制的长方体由其两个对角线顶点表示，每个顶点分别具有最小和最大坐标。